{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'izitoast/dist/css/iziToast.css';\n\nconst ref = {\n  radioFields: document.querySelectorAll('.radio-field'),\n  stateFieldset: document.querySelector('fieldset'),\n  form: document.querySelector('.form'),\n};\n\nconst { radioFields, stateFieldset, form } = ref;\n\nradioFields.forEach(radioField => {\n  radioField.addEventListener('change', () => {\n    stateFieldset.classList.add('radio-selected');\n  });\n});\n\nfunction outputMessage(type, delay) {\n  iziToast.settings({\n    timeout: 5000,\n    closeOnEscape: true,\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutUp',\n    titleSize: '16',\n    titleLineHeight: '24',\n    messageSize: '16',\n    messageLineHeight: '24',\n    titleColor: '#FFF',\n    messageColor: '#FFF',\n    position: 'topRight',\n  });\n\n  switch (type) {\n    case 'error-message':\n      iziToast.error({\n        title: 'Error',\n        message: `Rejected promise in ${delay}ms`,\n        backgroundColor: '#EF4040',\n        icon: 'icon-error',\n      });\n      break;\n    case 'success-message':\n      iziToast.success({\n        title: 'OK',\n        message: `Fulfilled promise in ${delay}ms`,\n\n        backgroundColor: '#59A10D',\n        progressBarColor: '#B5EA7C',\n        icon: 'icon-success',\n      });\n      break;\n    default:\n      iziToast.error({\n        title: 'Error',\n        message: 'Illegal operation',\n        backgroundColor: '#EF4040',\n        icon: 'icon-error',\n      });\n  }\n}\n\nform.addEventListener('submit', event => {\n  generatorPromise(event)\n    .then(result => outputMessage(result.type, result.delay))\n    .catch(error => outputMessage(error.type, error.delay));\n  event.target.reset();\n});\n\nfunction generatorPromise(event) {\n  event.preventDefault();\n  const valueDelay = +event.target.elements.delay.value;\n  const valueRadio = event.target.elements.state.value;\n\n  return new Promise((resolve, reject) => {\n    if (isNaN(valueDelay)) {\n      return outputMessage('error');\n    }\n\n    setTimeout(() => {\n      if (valueRadio === 'fulfilled') {\n        resolve({ type: 'success-message', delay: valueDelay });\n      } else if (valueRadio === 'rejected') {\n        reject({ type: 'error-message', delay: valueDelay });\n      }\n    }, valueDelay);\n  });\n}\n"],"names":["ref","radioFields","stateFieldset","form","radioField","outputMessage","type","delay","iziToast","event","generatorPromise","result","error","valueDelay","valueRadio","resolve","reject"],"mappings":"wIAIA,MAAMA,EAAM,CACV,YAAa,SAAS,iBAAiB,cAAc,EACrD,cAAe,SAAS,cAAc,UAAU,EAChD,KAAM,SAAS,cAAc,OAAO,CACtC,EAEM,CAAE,YAAAC,EAAa,cAAAC,EAAe,KAAAC,CAAI,EAAKH,EAE7CC,EAAY,QAAQG,GAAc,CAChCA,EAAW,iBAAiB,SAAU,IAAM,CAC1CF,EAAc,UAAU,IAAI,gBAAgB,CAChD,CAAG,CACH,CAAC,EAED,SAASG,EAAcC,EAAMC,EAAO,CAelC,OAdAC,EAAS,SAAS,CAChB,QAAS,IACT,cAAe,GACf,aAAc,aACd,cAAe,YACf,UAAW,KACX,gBAAiB,KACjB,YAAa,KACb,kBAAmB,KACnB,WAAY,OACZ,aAAc,OACd,SAAU,UACd,CAAG,EAEOF,EAAI,CACV,IAAK,gBACHE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,uBAAuBD,CAAK,KACrC,gBAAiB,UACjB,KAAM,YACd,CAAO,EACD,MACF,IAAK,kBACHC,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,wBAAwBD,CAAK,KAEtC,gBAAiB,UACjB,iBAAkB,UAClB,KAAM,cACd,CAAO,EACD,MACF,QACEC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBACT,gBAAiB,UACjB,KAAM,YACd,CAAO,CACJ,CACH,CAEAL,EAAK,iBAAiB,SAAUM,GAAS,CACvCC,EAAiBD,CAAK,EACnB,KAAKE,GAAUN,EAAcM,EAAO,KAAMA,EAAO,KAAK,CAAC,EACvD,MAAMC,GAASP,EAAcO,EAAM,KAAMA,EAAM,KAAK,CAAC,EACxDH,EAAM,OAAO,OACf,CAAC,EAED,SAASC,EAAiBD,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMI,EAAa,CAACJ,EAAM,OAAO,SAAS,MAAM,MAC1CK,EAAaL,EAAM,OAAO,SAAS,MAAM,MAE/C,OAAO,IAAI,QAAQ,CAACM,EAASC,IAAW,CACtC,GAAI,MAAMH,CAAU,EAClB,OAAOR,EAAc,OAAO,EAG9B,WAAW,IAAM,CACXS,IAAe,YACjBC,EAAQ,CAAE,KAAM,kBAAmB,MAAOF,CAAY,CAAA,EAC7CC,IAAe,YACxBE,EAAO,CAAE,KAAM,gBAAiB,MAAOH,CAAY,CAAA,CAEtD,EAAEA,CAAU,CACjB,CAAG,CACH"}